<app-navbar></app-navbar>

<h1 style="color:#080067; font-size: xx-large; font-weight: bolder; margin-left: 38%; margin-top: 1%">
  <mat-icon matTextPrefix>
    <span class="material-symbols-outlined">pin_drop</span>
  </mat-icon>
  Places you have visited
</h1>

<div class="searchbar-container">
  <mat-form-field class="searchbar">
    <mat-label>Search by name</mat-label>
    <input matInput type="text"  [(ngModel)]="searchValue" >
    <button  mat-icon-button matSuffix (click)="searchValue = ''" type="button">
      <mat-icon >
        <span *ngIf="searchValue !== ''"  class="material-symbols-outlined">close</span>
      </mat-icon>
    </button>
    <button  mat-icon-button matSuffix (click)="searchVisitedPlaces()" type="button">
      <mat-icon >
        <span class="material-symbols-outlined">search</span>
      </mat-icon>
    </button>
  </mat-form-field>
</div>
<h2 id="search-res">Search results :</h2>
  <div class="cards-container">
    <div *ngFor="let place of placesVisitedToShow; let i = index" id="card-visited-places">
          <mat-card>
            <mat-card-header>
              <mat-card-title-group>
                <img mat-card-md-image [src]="getUrl(place[2]!)" alt="Not implemented [src] yet" />
              </mat-card-title-group>
            </mat-card-header>
            <mat-card-content>
              <h3 style="color: #080067"> {{place[0].name}}</h3>
              <li style="color:white;"> {{place[0].location.address}}</li>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button (click)="goToReviewOwner(place)">Review owner</button>
              <button mat-button (click)="goToReviewAccommodation(place)" [disabled]="!place[1]!" >Review accommodation</button>
            </mat-card-actions>
          </mat-card>
    </div>
</div>
